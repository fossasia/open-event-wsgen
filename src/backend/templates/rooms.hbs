
<!DOCTYPE html>
<!--
  Note to contributors: Do not submit any changes to this page, as it is generated automatically
  from https://github.com/fossasia/open-event-scraper.
-->
<html lang="en">
  <head>
    <link rel="preload" as="script" href="./js/jquery.min.js">
    <link rel="preload" as="script" href="./js/bootstrap.min.js">
    <link rel="preload" as="script" href="./js/rooms.min.js">
    <link rel="preload" as="style" href="./css/schedule.css">
    <link rel="preload" as="style" href="./css/font-awesome.min.css">
    <link rel="preload" as="style" href="./css/bootstrap.min.css">
    <link rel="preload" as="font" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" crossorigin>


    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <meta name="description" content="{{ apptitle }} Schedule">
    <meta name="author" content="{{ metaauthor }}">

    <title>{{ apptitle }}</title>

    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="shortcut icon" href="{{ eventurls.ico_url }}" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="./css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/schedule.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,300' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <a href="#rooms-list" class="skip">Skip to content</a>
    {{> scroll}}
    <a id="top"></a>
    {{> navbar}}


    <div class="main container">
      <div class="row">
        <div class="middle col-sm-12">
            <h2 class="filter-heading track-heading text-center">
              <span>
                Venue
              </span>
            </h2>
        </div>
      </div>
      <!-- --------------------------------------------------------------
      search-filter, search-filter-speaker and fossasia-filter
      These classes are designed for search tab.

      room-filter and date-filter classes are intended for searching
      text across the page.
      --------------------------------------------------------------- -->
      <div class="date-list container">
          <div id="tabs" class="col-md-8 col-xs-12 col-sm-12 tabs">
            <span class="tabs-nav">
              {{#days}}
                <a href="./rooms.html#{{firstSlug}}" class="tabs-nav-link">{{caption}}</a>
              {{/days}}
            </span>
          </div>
          <div class = "col-md-4 col-xs-12 col-sm-12 navbar-flex">
            <div class="search-filter search-filter-room filter-margin">
             <label for="search-input"><i class="fa fa-search" aria-hidden="true"></i></label>
             <input class="fossasia-filter" type="text" placeholder="Search">
            </div>
            <div class="show-button-filter">
                <button class = "btn btn-primary" id = "starred" ><i class="fa fa-star" aria-hidden="true"></i></button>
            </div>
          </div>
      </div>
      <div id="filterInfo" class="container">
        ROOM: <span id="curFilter" style="font-weight:bold;"> </span> <a href="#" id="clearFilter">  [Clear Filter]</a>
      </div>
      <div id="session-list" class="container">
        <div class="row">
          <div id="content-block" class="col-md-9 col-sm-9">
            <div id="track-list">
              {{#roomsinfo}}
                <a class='anchor' id='{{slug}}'> </a>
                <div class="{{slug}} date-filter" id="rooms-list">
                  <div class="row paddingzero">
                    <div class="col-md-12 paddingzero">
                      <h5 class="text">{{date}}</h4>
                    </div>
                  </div>
                  {{#venue}}
                    <div class="venue-filter row">
                      <div class="row">
                        <div class="clear-both col-md-12">
                          {{#if venue }}
                            <h5 class="text">{{venue}}</h5>
                          {{/if}}
                        </div>
                      </div>
                      {{#sessions}}
                        <div class="room-filter" id="{{session_id}}">
                          <a class="anchor" id="venue-{{session_id}}"></a>
                          <div class="eventtime col-xs-2 col-sm-2 col-md-2">
                            <span class="time-track">{{start}} - {{end}}</span>
                          </div>
                          <div class="room-container">
                            <div class="left-border col-xs-10 col-sm-10 col-md-10">
                              {{#if ../../../mode}}
                                <div class="sizeevent event event-title" id="title-{{session_id}}" style="background-color: {{color}}; color:{{font_color}};">
                              {{else}}
                                <div class="sizeevent event event-title" id="title-{{session_id}}" style="background-color: {{color}}; color:{{font_color}};" data-toggle="collapse" data-target="#desc-{{session_id}}, #desc2-{{session_id}}">
                              {{/if}}
                                <div class="margin-down-15">{{title}}</div>
                                <a class = "bookmark" id="b{{session_id}}">
                                  <i class="fa fa-star" aria-hidden="true" ></i>
                                </a>
                                {{#if audio}}
                                  <i class="fa fa-music" aria-hidden="true"></i>
                                {{/if}}
                                <div id="desc2-{{session_id}}" class="collapse in"
                                  style="background-color:{{{color}}}; color: {{{font_color}}};">
                                  <div class="row">
                                    {{#if speakers_list.length}}
                                      <div class="speakers-list">
                                        {{#speakers_list}}
                                          <p class="session-speakers session-speakers-item">
                                            {{#if photo}}
                                              <img onError="this.onerror=null;this.src='./images/avatar.png';" data-original="{{thumb}}" class="lazy card-img-top speaker-image-small" />
                                            {{else}}
                                              <img class="card-img-top speaker-image-small" src="./images/avatar.png"/>
                                            {{/if}}
                                          </p>
                                        {{/speakers_list}}
                                      </div>
                                    {{/if}}
                                    <div class="speaker-short-info">
                                      <ul class="speaker-name-list">
                                        {{#speakers_list}}
                                          {{name}}{{#if organisation}}&nbsp;({{position}} {{organisation}}){{/if}}{{#if @last}}{{else}},{{/if}}
                                          {{/speakers_list}}
                                      </ul>
                                      <ul class="speaker-name-list">
                                        {{#if type}}
                                          {{type}}
                                        {{else}}
                                          <br>
                                        {{/if}}
                                      </ul>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div id="desc-{{session_id}}" class="collapse">
                                {{{description}}}
                                {{#if audio}}
                                  <audio controls="" preload="none" id= "audio-block">
                                    <source src="{{ audio }}">
                                  </audio>
                                {{/if}}
                                <hr class="clear-both">
                                <div class="session-speakers-list"
                                  aria-expanded="false"
                                  aria-controls="desc-{{session_id}}">
                                  {{#speakers_list}}
                                    <a href="speakers.html#{{nameIdSlug}}">
                                      <div class="session-speakers-less">
                                        <p class="session-speakers">
                                          {{#if photo}}
                                            <img onError="this.onerror=null;this.src='images/avatar.png';" data-original="{{thumb}}" class="lazy card-img-top speaker-image-large"/>
                                          {{else}}
                                            <img class="card-img-top speaker-image-large" src="images/avatar.png"/>
                                          {{/if}}
                                        </p>
                                        <span class="graytext">{{name}}</span>
                                      </div>
                                    </a>
                                    {{#if organisation}}
                                      <p class="session-speakers-more">
                                        {{position}} {{organisation}}
                                      </p>
                                    {{/if}}
                                    {{#if biography}}
                                      <div class="session-speakers-more">
                                        {{{biography}}}
                                      </div>
                                    {{/if}}
                                    <div class="blacktext session-speaker-social">
                                      <div class="session-speakers-more">
                                        {{#if website}}
                                          <a class="blacktext social speaker-social" href="{{{website}}}"}>
                                            <i class="fa fa-home"></i> Web
                                          </a>&nbsp;
                                        {{/if}}
                                        {{#if github}}
                                          <a class="blacktext social speaker-social" href="{{{github}}}"}>
                                            <i class="fa fa-github"></i> Github
                                          </a>&nbsp;
                                        {{/if}}
                                        {{#if twitter}}
                                          <a class="blacktext social speaker-social" href="{{{twitter}}}"}>
                                            <i class="fa fa-twitter"></i> Twitter
                                          </a>&nbsp;
                                        {{/if}}
                                        {{#if linkedin}}
                                          <a class="blacktext social speaker-social" href="{{{linkedin}}}"}>
                                            <i class="fa fa-linkedin"></i> LinkedIn
                                          </a>&nbsp;
                                        {{/if}}
                                        <a class="session-lin blacktext social speaker-social clickable-link">
                                          <i class="fa fa-share"></i> Share
                                        </a>
                                        <div class="social-buttons row">
                                          {{> social}}
                                          <div class="row social-link">
                                            <input class="speakers-inputbox" type="text" onclick="this.select()" value="base#venue-{{../session_id}}" readonly>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <hr class="clear-both">
                                  {{/speakers_list}}
                                  <div class="blacktext">
                                    {{#if roomname}}
                                      <p><i>{{roomname}}</i></p>
                                    {{/if}}
                                    {{#if sessiondate}}
                                      <p>{{sessiondate}}, <span>{{start}} - {{end}}</span></p>
                                    {{/if}}
                                    <p>
                                      <ul class="title-inline">
                                        <li style="background-color:{{{color}}}; color: {{{font_color}}};" class="titlecolor"></li>&nbsp;
                                        <li class="blacktext">{{tracktitle}}</li>
                                      </ul>
                                    </p><br>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      {{/sessions}}
                    </div>
                  {{/venue}}
                </div>
              {{/roomsinfo}}
            </div>
          </div>
          <div class="track-room-names col-md-3 col-sm-3">
            <div class="row">
              <div class="col-md-12 col-sm-12 room-name-list">
                <h4 class='list-title'> Rooms List </h4>
                {{#each roomsnames}}
                  <div class="room-info">
                    <span style="background-color: #777;" class="titlecolor"></span>
                    <span class="room-name">{{this}}</span>
                  </div>
                {{/each}}
              </div>
              <div class="col-md-12 col-sm-12">
                <h4 class='list-title'> Tracks List </h4>
                {{#tracknames}}
                {{#if title}}
                <div class="track-info">
                  <span style="background-color: {{color}};" class="titlecolor"></span>
                  <span>{{title}}</span>
                </div>
                {{/if}}
                {{/tracknames}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    {{> footer}}
    <script src="./js/jquery.min.js"></script>
    <script src="./js/bootstrap.min.js" type="text/javascript"></script>
    <script src="./js/rooms.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(document).ready(function() {

        var eventName = "{{eventurls.name}}";
        var flag = 0;
        var isAdded = 0;
        var mode = 0;
        var roomName = 0;
        var roomFilterMode = 0;

        $(function() {
          $("img.lazy").lazyload({
            threshold: 2000
          });
        });

        $('.session-lin').click(function() {
          $(this).parent().parent().find("div.social-buttons").toggle();
          var val = $(this).parent().parent().find('.speakers-inputbox').val();
          $(this).parent().parent().find('.speakers-inputbox').val(window.location.href.split('#')[0] + '#'  + val.split('#').pop());
        });

        $('.session-lin').click(function(e) {
          e.stopPropagation();
        });

        $('.speakers-inputbox').click(function(e) {
          e.stopPropagation();
        });

        $('.fossasia-filter').change(function() {
          var filterVal = $(this).val();
          var temp = JSON.parse(localStorage[eventName]);
          $('.date-filter').each(function() {
            var flag = 1;
            $(this).find('.venue-filter').each(function() {
              var name = $(this).find('.text').text();
              var flagVenue = 1;
              if(roomFilterMode && (name !== roomName)) {
                $(this).hide();
                return;
              }
              $(this).find('.room-filter').each(function() {
                var id = $(this).attr('id');
                var elemFlag = 1;
                if ($(this).find('.tip-description').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.session-speakers-list a span').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.session-speakers-more').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.event').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0) {
                  elemFlag = 0;
                  if(mode && temp[id] !== 1) {
                    elemFlag = 1;
                  }
                }
                if(elemFlag === 0) {
                  flagVenue = flag = 0;
                  $(this).show();
                }
                else {
                  $(this).hide();
                }
              });
              if (flagVenue === 1) {
                $(this).hide();
              } else {
                $(this).show();
                var roomHeading = $(this).children('.text');

                if(roomFilterMode) {
                  roomHeading.hide();
                } else {
                  roomHeading.show();
                }
              }
            });
            if (flag === 1) {
              $(this).hide();
            } else {
              $(this).show();
            }
          });

          // show "no results" if search input value matches zero items
          if ($('.date-filter:visible').length == 0) {
            $('#no-results').remove();
            $('.search-filter:first').after('<p id="no-results">No matching results found.</p>');
          } else {
            $('#no-results').remove();
          }
          return false;
        }).keyup(function() {
          $(this).change();
        });

        $('.bookmark').click(function (event) {
          var temp = JSON.parse(localStorage[eventName]);
          var curColor = $(this).css("color");
          var id = $(this).attr('id').substring(1);
          flag = 1;

          if (curColor == "rgb(0, 0, 0)") {
            temp[id] = 0;
            $(this).css("color", "");
            if(mode) $('#' + id).hide();
          } else {
            $(this).css("color", "black");
            temp[id] = 1;
          }

          localStorage[eventName] = JSON.stringify(temp);
          event.stopPropagation();
        });

        $('.room-filter').click(function () {
          // Checking whether the session style in single mode or expandable mode
          var sessionMode = "{{mode}}";
          var id =  $(this).attr('id');
          if(sessionMode === 'single') {
            var curUrl = $(location).attr('href');
            var newUrl = curUrl.substring(0, curUrl.lastIndexOf('/') + 1) + 'sessions/session_' + id + ".html";
            $(location).attr('href', newUrl);
          }
        });

        $('#starred').click(function() {
          mode = !mode;
          if(!mode) {
            $(this).css("color", "black");
            $('#starred').css("background-color","#eee");
          }
          else {
            $(this).css("color", "white");
            $('#starred').css("background-color","#838282");
          }
          display();
        });

        $('.room-name').click(function() {
          var filterVal;
          var temp = JSON.parse(localStorage[eventName]);
          var sidebarDiv = $('.side-collapse');

          if (!sidebarDiv.hasClass('in')) {
            sidebarDiv.addClass('in');
          }

          roomName = $(this).text();
          roomFilterMode = 1;

          $('.fossasia-filter').each(function() {
            if($(this).is(':visible')) {
              filterVal = $(this).val();
            }
          });

          $('#filterInfo').show();
          $('#curFilter').text(roomName);

          $('.date-filter').each(function() {
            var flag = 0;
            $(this).find('.venue-filter').each(function() {
              var name = $(this).find('.text').text();
              if(name != roomName) {
                $(this).hide();
                return;
              }
              $(this).find('.room-filter').each(function() {
                var id = $(this).attr('id');
                var elemFlag = 0;
                if ($(this).find('.tip-description').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.session-speakers-list a span').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.session-speakers-more').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.event').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0) {
                  elemFlag = 1;
                  if(mode && temp[id] != 1) {
                    elemFlag = 0;
                  }
                }
                if(elemFlag == 1) {
                  flag = 1;
                  $(this).show();
                }
                else {
                  $(this).hide();
                }
              });
              if(flag) {
                $(this).show();
                $(this).children('.row').hide();
              } else {
                $(this).hide();
              }
            });
            if(flag) {
              $(this).show();
            } else {
              $(this).hide();
            }
          });
          $('html, body').animate({scrollTop: 0}, 500);
        });

        $('#clearFilter').click(function() {
          roomFilterMode = 0;
          display();
          $('#filterInfo').hide();
        });

        function display() {
          var temp = JSON.parse(localStorage[eventName]);
          $('.date-filter').each(function() {
            var dateFlag = 0;
            $(this).find('.venue-filter').each(function() {
              var venueFlag = 0;
              var name = $(this).find('.text').text();
              if(roomFilterMode && name != roomName) {
                $(this).hide();
                return;
              }
              $(this).find('.room-filter').each(function() {
                var elemId = $(this).attr('id');
                var bookFlag = 0, searchFlag = 0, elemFlag = 0;
                var filterVal;

                $('.fossasia-filter').each(function() {
                  if($(this).is(':visible')) {
                    filterVal = $(this).val();
                  }
                });

                if ($(this).find('.tip-description').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.session-speakers-list a span').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.session-speakers-more').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0 ||
                  $(this).find('.event').text().toUpperCase().indexOf(filterVal.toUpperCase()) >= 0) {
                  searchFlag = 1;
                  if (temp[elemId] == 1) {
                    bookFlag = 1;
                    $(this).find('.bookmark').each(function () {
                      $(this).css("color", "black");
                    });
                  }
                }

                if((mode && searchFlag && bookFlag) || (!mode && searchFlag)) {
                  elemFlag = venueFlag = dateFlag = 1;
                }

                if (elemFlag) {
                  $(this).show();
                }
                else {
                  $(this).hide();
                }
              });
              if(venueFlag) {
                $(this).show();
                var roomHeading = $(this).children('.row');

                if(roomFilterMode) {
                  roomHeading.hide();
                } else {
                  roomHeading.show();
                }
              }
              else {
                $(this).hide();
              }
            });
            if(dateFlag) {
              $(this).show();
            }
            else {
              $(this).hide();
            }
          });
        }

        function initPage() {
          if(localStorage.hasOwnProperty(eventName) === false) {
            localStorage[eventName] = '{}';
          }
          var temp = JSON.parse(localStorage[eventName]);
          var elemId;
          Object.keys(temp).forEach(function(key) {
            if (temp[key] == 1) {
              elemId = $('#' + key).find('.bookmark').css("color", "black");;
            }
          });
        }
        initPage();
      });
    </script>
  </body>
</html>
